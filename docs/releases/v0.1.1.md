# sysprims v0.1.1

**Release Date:** 2026-01-17
**Status:** First Language Bindings Release

## Summary

Completes the C-ABI FFI surface and ships Go bindings with full cross-platform support. Adds port-to-PID lookup API and CLI enhancements.

## What's Included

### FFI Surface (14 functions)

Complete C-ABI for language binding integration:

| Category       | Functions                                                                                                 |
| -------------- | --------------------------------------------------------------------------------------------------------- |
| Error handling | `sysprims_last_error_code()`, `sysprims_last_error()`, `sysprims_clear_error()`                           |
| Version/ABI    | `sysprims_version()`, `sysprims_abi_version()`                                                            |
| Platform       | `sysprims_get_platform()`                                                                                 |
| Memory         | `sysprims_free_string()`                                                                                  |
| Signal         | `sysprims_signal_send()`, `sysprims_signal_send_group()`, `sysprims_terminate()`, `sysprims_force_kill()` |
| Process        | `sysprims_proc_list()`, `sysprims_proc_get()`, `sysprims_proc_listening_ports()`                          |
| Timeout        | `sysprims_timeout_run()`                                                                                  |

### Go Bindings

First-class Go bindings with prebuilt static libraries:

```go
import "github.com/3leaps/sysprims/bindings/go/sysprims"

// Send signal
sysprims.Kill(pid, sysprims.SIGTERM)

// Run with timeout
result, _ := sysprims.RunWithTimeout("make", []string{"build"}, 5*time.Minute, sysprims.DefaultTimeoutConfig())

// Map port to process
snap, _ := sysprims.ListeningPorts(&sysprims.PortFilter{Protocol: &proto, LocalPort: &port})
```

**Supported Platforms:**

- Linux x64 (glibc + musl)
- Linux arm64 (glibc + musl)
- macOS x64 + arm64
- Windows x64 (via MinGW)

### Listening Ports API

Best-effort port-to-PID mapping:

- Rust: `listening_ports(filter: Option<&PortFilter>) -> PortBindingsSnapshot`
- FFI: `sysprims_proc_listening_ports(filter_json, result_json_out)`
- Go: `ListeningPorts(filter *PortFilter) (*PortBindingsSnapshot, error)`

**Platform behavior:**

- Linux + Windows: Reliably attributes self-listeners; partial attribution for other processes based on privileges
- macOS: Best-effort; SIP/TCC can restrict socket enumeration

### CLI Enhancements

```bash
# List all signals
sysprims kill -l

# Get signal number
sysprims kill -l TERM
# Output: 15

# Signal process group (Unix only)
sysprims kill --group 1234
```

### Container Test Fixture

Docker-based environment for privileged/dangerous tests requiring root or special capabilities.

## Changes from v0.1.0

### Added

- Complete FFI surface (was scaffolding only)
- Go bindings with 7 platform targets
- Listening ports API (port-to-PID lookup)
- CLI `kill -l` signal listing
- CLI `kill --group` for process groups
- Container test fixture

### Changed

- CLI version string now shows `sysprims X.Y.Z` (was `sysprims-cli X.Y.Z`)
- Release checksum manifests now include headers and sidecar assets

### Fixed

- FFI surface complete (v0.1.0 limitation resolved)
- CLI `kill -l` implemented (v0.1.0 limitation resolved)

## Platforms

- Linux x64 (glibc + musl)
- Linux arm64 (glibc + musl)
- macOS x64
- macOS arm64
- Windows x64

## Next Release

v0.1.2+ will include:

- Python bindings (cffi/PyO3 + wheel packaging)
- TypeScript bindings (napi-rs + npm packaging)
- C conformance test suite
