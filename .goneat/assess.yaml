# goneat assess configuration for sysprims
# Rust project with FFI bindings
#
# NOTE: goneat v0.3.x does not have native Rust support.
# Rust checks (cargo fmt, clippy, deny) are handled via Makefile.
# This config handles ancillary files (YAML, shell, GitHub Actions).
#
# When goneat v0.4.1 adds Rust toolchain support, this can be extended.

version: 1

# Rust toolchain checks - FUTURE (goneat v0.4.1+)
# rust:
#   fmt:
#     enabled: true
#     fix: true
#   clippy:
#     enabled: true
#     deny_warnings: true
#   deny:
#     enabled: true
#     checks: [licenses, advisories, bans, sources]
#   paths:
#     - "crates/**/*.rs"
#     - "ffi/**/*.rs"
#   ignore:
#     - "**/target/**"

lint:
  # YAML linting (CI workflows, configs)
  yamllint:
    enabled: true
    strict: true
    paths:
      - ".github/workflows/**/*.yml"
      - ".github/workflows/**/*.yaml"
      - ".goneat/**/*.yaml"
    ignore: []

  # Go linting note:
  # goneat currently runs golangci-lint from the repo root. To support that while keeping
  # Go bindings in a submodule, we include:
  # - a minimal root go.mod
  # - a root go.work referencing bindings/go/sysprims
  # - a tiny placeholder Go package (internal/gowork) so repo-root ./... resolves
  #
  # CI still runs Go tests from bindings/go/sysprims directly.

  # Shell script linting
  shell:
    shfmt:
      enabled: true
      fix: true
    shellcheck:
      enabled: false
      path: ""
    paths:
      - "**/*.sh"
      - "scripts/**/*.sh"
    ignore:
      - "**/target/**"
      - "**/.git/**"
      - ".plans/**"

  # GitHub Actions linting
  github_actions:
    actionlint:
      enabled: true
      paths:
        - ".github/workflows/**/*.yml"
        - ".github/workflows/**/*.yaml"
      ignore: []

  # Makefile linting
  make:
    checkmake:
      enabled: true
      config:
        max_body_length: 70  # Bootstrap/tools targets can be complex
        min_phony_targets:
          - all
          - clean
          - test
          - check
          - build
    paths:
      - "**/Makefile"
    ignore: []
